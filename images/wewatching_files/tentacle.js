(()=>{window.tentacles=window.tentacles||{};var w=window.console,S=function(){},c=function(){},X=["h1","h2","h3","h4","h5","h6","p","span","strong","cite"],H=["img","source"],d="landing",r="article",t=(window.tentaclesProcessedABTitles=!1,window.tentacles.initiated=!1,!!window.tentacles.flickerHandling&&window.tentacles.flickerHandling),I=window.tentacles.apiToken;function Y(){t&&document.body.classList.remove("tentacles-flicker-handling")}I||""===I||w.error('TENTACLES: No API key given. Please add a valid apiToken above this script call: window.tentacles = { apiToken: "09876543edfghy7"};'),window.tentacles.version="1724934079513";var f,n,o,a,i,l="1"===localStorage.getItem("tentacles-version")?(w.log("TENTACLES: Version 1 detected and loaded"),window.tentacles.installUri?window.tentacles.installUri+"/tentacles.js?":"https://tentacles.smartocto.com/ten/tentacles.js?v=1724934079513"):window.tentacles.installUri?window.tentacles.installUri+"/tentacles-20.js?":"https://tentacles.smartocto.com/ten/tentacles-20.js?v=1724934079513",s=null,V=null,G=null,W=null,z=null,Z=null,K={_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(e){var t,n,a,r,o,i,l="",s=0;for(e=K._utf8_encode(e);s<e.length;)a=(t=e.charCodeAt(s++))>>2,r=(3&t)<<4|(t=e.charCodeAt(s++))>>4,o=(15&t)<<2|(n=e.charCodeAt(s++))>>6,i=63&n,isNaN(t)?o=i=64:isNaN(n)&&(i=64),l=l+this._keyStr.charAt(a)+this._keyStr.charAt(r)+this._keyStr.charAt(o)+this._keyStr.charAt(i);return l},decode:function(e){var t,n,a,r,o,i="",l=0;for(e=e.replace(/[^A-Za-z0-9\+\/\=]/g,"");l<e.length;)t=this._keyStr.indexOf(e.charAt(l++))<<2|(r=this._keyStr.indexOf(e.charAt(l++)))>>4,n=(15&r)<<4|(r=this._keyStr.indexOf(e.charAt(l++)))>>2,a=(3&r)<<6|(o=this._keyStr.indexOf(e.charAt(l++))),i+=String.fromCharCode(t),64!==r&&(i+=String.fromCharCode(n)),64!==o&&(i+=String.fromCharCode(a));return K._utf8_decode(i)},_utf8_encode:function(e){e=e.replace(/\r\n/g,"n");for(var t="",n=0;n<e.length;n++){var a=e.charCodeAt(n);a<128?t+=String.fromCharCode(a):(127<a&&a<2048?t+=String.fromCharCode(a>>6|192):t=(t+=String.fromCharCode(a>>12|224))+String.fromCharCode(a>>6&63|128),t+=String.fromCharCode(63&a|128))}return t},_utf8_decode:function(e){var t,n="",a=0;for(c1=c2=0;a<e.length;)(t=e.charCodeAt(a))<128?(n+=String.fromCharCode(t),a++):191<t&&t<224?(c2=e.charCodeAt(a+1),n+=String.fromCharCode((31&t)<<6|63&c2),a+=2):(c2=e.charCodeAt(a+1),c3=e.charCodeAt(a+2),n+=String.fromCharCode((15&t)<<12|(63&c2)<<6|63&c3),a+=3);return n}},Q=(f=String.fromCharCode,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+-$",a={},i={compressToBase64:function(e){if(null==e)return"";var t=i._compress(e,6,function(e){return n.charAt(e)});switch(t.length%4){default:case 0:return t;case 1:return t+"===";case 2:return t+"==";case 3:return t+"="}},decompressFromBase64:function(t){return null==t?"":""===t?null:i._decompress(t.length,32,function(e){return ee(n,t.charAt(e))})},compressToUTF16:function(e){return null==e?"":i._compress(e,15,function(e){return f(e+32)})+" "},decompressFromUTF16:function(t){return null==t?"":""===t?null:i._decompress(t.length,16384,function(e){return t.charCodeAt(e)-32})},compressToUint8Array:function(e){for(var t=i.compress(e),n=new Uint8Array(2*t.length),a=0,r=t.length;a<r;a++){var o=t.charCodeAt(a);n[2*a]=o>>>8,n[2*a+1]=o%256}return n},decompressFromUint8Array:function(e){if(null==e)return i.decompress(e);for(var t=new Array(e.length/2),n=0,a=t.length;n<a;n++)t[n]=256*e[2*n]+e[2*n+1];var r=[];return t.forEach(function(e){r.push(f(e))}),i.decompress(r.join(""))},compressToEncodedURIComponent:function(e){return null==e?"":i._compress(e,6,function(e){return o.charAt(e)})},decompressFromEncodedURIComponent:function(t){return null==t?"":""===t?null:(t=t.replace(/ /g,"+"),i._decompress(t.length,32,function(e){return ee(o,t.charAt(e))}))},compress:function(e){return i._compress(e,16,function(e){return f(e)})},_compress:function(e,t,n){if(null==e)return"";for(var a,r,o,i,l={},s={},c="",_=2,d=3,g=2,u=[],m=0,h=0,p=0;p<e.length;p+=1)if(o=e.charAt(p),Object.prototype.hasOwnProperty.call(l,o)||(l[o]=d++,s[o]=!0),i=c+o,Object.prototype.hasOwnProperty.call(l,i))c=i;else{if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<g;a++)m<<=1,h===t-1?(h=0,u.push(n(m)),m=0):h++;for(r=c.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r>>=1}else{for(r=1,a=0;a<g;a++)m=m<<1|r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r=0;for(r=c.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r>>=1}0==--_&&(_=Math.pow(2,g),g++),delete s[c]}else for(r=l[c],a=0;a<g;a++)m=m<<1|1&r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r>>=1;0==--_&&(_=Math.pow(2,g),g++),l[i]=d++,c=String(o)}if(""!==c){if(Object.prototype.hasOwnProperty.call(s,c)){if(c.charCodeAt(0)<256){for(a=0;a<g;a++)m<<=1,h===t-1?(h=0,u.push(n(m)),m=0):h++;for(r=c.charCodeAt(0),a=0;a<8;a++)m=m<<1|1&r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r>>=1}else{for(r=1,a=0;a<g;a++)m=m<<1|r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r=0;for(r=c.charCodeAt(0),a=0;a<16;a++)m=m<<1|1&r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r>>=1}0==--_&&(_=Math.pow(2,g),g++),delete s[c]}else for(r=l[c],a=0;a<g;a++)m=m<<1|1&r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r>>=1;0==--_&&(_=Math.pow(2,g),g++)}for(r=2,a=0;a<g;a++)m=m<<1|1&r,h===t-1?(h=0,u.push(n(m)),m=0):h++,r>>=1;for(;;){if(m<<=1,h===t-1){u.push(n(m));break}h++}return u.join("")},decompress:function(t){return null==t?"":""===t?null:i._decompress(t.length,32768,function(e){return t.charCodeAt(e)})},_decompress:function(e,t,n){for(var a,r,o,i,l,s,_=[],c=4,d=4,g=3,u="",m=[],h={val:n(0),position:t,index:1},p=0;p<3;p+=1)_[p]=p;for(r=0,i=Math.pow(2,2),l=1;l!==i;)o=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index++)),r|=(0<o?1:0)*l,l<<=1;switch(r){case 0:for(r=0,i=Math.pow(2,8),l=1;l!==i;)o=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index++)),r|=(0<o?1:0)*l,l<<=1;s=f(r);break;case 1:for(r=0,i=Math.pow(2,16),l=1;l!==i;)o=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index++)),r|=(0<o?1:0)*l,l<<=1;s=f(r);break;case 2:return""}for(a=_[3]=s,m.push(s);;){if(e<h.index)return"";for(r=0,i=Math.pow(2,g),l=1;l!==i;)o=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index++)),r|=(0<o?1:0)*l,l<<=1;switch(s=r){case 0:for(r=0,i=Math.pow(2,8),l=1;l!==i;)o=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index++)),r|=(0<o?1:0)*l,l<<=1;_[d++]=f(r),s=d-1,c--;break;case 1:for(r=0,i=Math.pow(2,16),l=1;l!==i;)o=h.val&h.position,h.position>>=1,0===h.position&&(h.position=t,h.val=n(h.index++)),r|=(0<o?1:0)*l,l<<=1;_[d++]=f(r),s=d-1,c--;break;case 2:return m.join("")}if(0===c&&(c=Math.pow(2,g),g++),_[s])u=_[s];else{if(s!==d)return null;u=a+a.charAt(0)}m.push(u),_[d++]=a+u.charAt(0),a=u,0==--c&&(c=Math.pow(2,g),g++)}}});function ee(e,t){if(!a[e]){a[e]={};for(var n=0;n<e.length;n++)a[e][e.charAt(n)]=n}return a[e][t]}"function"==typeof define&&define.amd?define("LZString",function(){return Q}):"undefined"!=typeof module&&null!=module&&(module.exports=Q),Math.round10||(Math.round10=function(e,t){return n="round",e=e,void 0===(t=t)||0==+t?Math[n](e):(e=+e,t=+t,isNaN(e)||"number"!=typeof t||t%1!=0?NaN:(e=e.toString().split("e"),+((e=(e=Math[n](+(e[0]+"e"+(e[1]?+e[1]-t:-t)))).toString().split("e"))[0]+"e"+(e[1]?+e[1]+t:t))));var n});var te=3e4,ne="active",ae="completed",g="t"===localStorage.getItem("tentaclesEnabled"),v=JSON.parse(localStorage.getItem("tentacles_"+I+"_urls"));localStorage.removeItem("tentacles_user_id"),localStorage.removeItem("tentacle_pagedata"),localStorage.removeItem("tentacles_pagedata"),localStorage.removeItem("tentacles_domainregex"),localStorage.removeItem("tentacles_useDivolte"),localStorage.removeItem("tentacles_reading_time"),localStorage.removeItem("tentacles_basePaths"),localStorage.removeItem("tentacles_urls"),localStorage.removeItem("tentacles_data_layer_config"),localStorage.removeItem("tentacles_page_urls"),localStorage.removeItem("tentacles_excludeclasses"),localStorage.removeItem("tentacles_domainsearchpath"),localStorage.removeItem("tentacles_urls_time"),localStorage.removeItem("tentacles_useIngestionApi"),localStorage.removeItem("tentacles_activefilter"),localStorage.removeItem("tentacles_dockcache_time"),localStorage.removeItem("tentacles_domainvpath"),localStorage.removeItem("tentacles_xPathIds"),localStorage.removeItem("tentacles_currentHostname"),localStorage.removeItem("tentacles_replacementElements"),localStorage.removeItem("tentacles_useDivInReplacement");var re,u,y,m,h,p,T,P,oe,ie,e,le=!0,se=!0,b=[],ce=[],de="",C=!1,ge="",ue="",O="",x=[],k=!1,A=[],N=!1,E=null,L=!1,D=!1,J=null,R=!1,U=!1,M=null,j=null,B=null,F=null,me=null;function he(e,t,n){for(var a=0;a<e.length;a++)if(e[a][t]===n)return e[a];return null}function pe(e){for(var t=(e=>{var t,n,a,r=0,o=[];if(""===e.trim())return[];if(/[^0-9a-fA-F]/.test(e))return!1;for(n=(t=e.match(/.{1,2}/g)).length,a=0;a<n;++a)""!==t[a].trim()&&(o[r++]=parseInt(t[a],16));return o})(e),n="",a=0;a<t.length;a+=2)n+=String.fromCharCode(t[a]|t[a+1]<<8);return n}function fe(e){for(var t=[],n=0;n<e.length;n++){var a=e.charCodeAt(n);t.push(255&a),t.push(a>>8&255)}var r,o,i,l=t,s="";if(!(e=>"object"==typeof e&&e instanceof Array)(l))return!1;for(o=l.length,r=0;r<o;++r)l[r]<0&&(l[r]=l[r]+256),void 0===l[r]&&(alert("Boom "+r),l[r]=0),1===(i=l[r].toString(16)).length&&(i="0"+i),s+=i;return s.trim()}function _e(){return new Promise(function(t,e){try{window&&window.tentacles.hasOwnProperty("pageType")&&(window.tentacles.pageType.toLowerCase()===r?t(!0):t(!1));var n=localStorage.getItem("tentacles_"+I+"_basePaths");null!==n?-1===JSON.parse(n).indexOf(window.location.pathname)?t(!0):t(!1):q().then(function(e){t(!!e)})}catch(t){e(t)}})}function q(d){return new Promise(function(t,n){try{var e,_,a=localStorage.getItem("tentacles_"+I+"_domainregex"),r=null!==(r=localStorage.getItem("tentacles_"+I+"_domainregex_on_params"))&&"true"===r,o=localStorage.getItem("tentacles_"+I+"_domainvpath"),i=new RegExp(o,"g"),l=localStorage.getItem("tentacles_"+I+"_basePaths"),s=r?window.location.href:window.location.pathname,c=!1;d&&(s=d),o&&(c=i.test(s)),a?(e=new RegExp(a,"g").exec(s))&&2<=e.length?(e.splice(0,1),_=e.filter(function(e){if(e)return e}).map(function(e){return e.toString()})[0],l?Le("feed"+_).then(function(e){e=e.substring(0,20);t(c?"v"+e:e)}):t(c?"v"+_:_)):t():l?Le("feed"+s).then(function(e){e=e.substring(0,20);t(c?"v"+e:e)}):t()}catch(e){n(e)}})}function we(){return new Promise(function(e,t){window.ingestion&&void 0!==window.ingestion?e(!0):ke({url:window.tentacles.installUri?window.tentacles.installUri+"/ingestion.js":"https://tentacles.smartocto.com/ten/ingestion.js?v=1724934079513",defer:!0,async:!0}).then(()=>{void 0===window.ingestion&&window.module&&window.module.exports&&(window.ingestion=window.module.exports),e(!0)}).catch(e=>{w.error("IngestionApi failed to load: ",e),t(!1)})})}function Se(i){return new Promise(function(n,t){var e,a,r,o;g?n(!0):(e=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:void 0,a=window&&window.tentacles&&window.tentacles.relationId?window.tentacles.relationId:void 0,r=Je(),i&&"object"==typeof i&&(i.brandId&&(e=i.brandId),i.relationId&&(a=i.relationId),i.channel)&&(r=i.channel),o={},we().then(()=>{o.channel=r,o.brandId=e;let t=ye();t===d?a?(o.relationId=null,o.pageType=t,window.ingestion.signal("pageView",o),n(!0)):ve().then(e=>{o.relationId=e,o.pageType=t,window.ingestion.signal("pageView",o),n(!0)}):(o.pageType=t,a&&(o.relationId=a),window.ingestion.signal("pageView",o),n(!0))}).catch(e=>{w.error("IngestionApi failed to load: ",e),t(!1)}))})}function Ie(o,i,l){return new Promise(function(n,a){if(i=i||localStorage.getItem("tentacles_linkClick"),o&&i)try{var e=pe(i),e=Q.decompressFromUTF16(e),t=JSON.parse(e);function r(e,t){we().then(()=>{t&&!g?D&&(ingestion.signal(e,t),n()):w.warn("Tentacles desktop is activated no data is sent.")}).catch(e=>{w.error("IngestionApi failed to load: ",e),a(e)})}t.relationId=o,localStorage.getItem("tentacles_linkClick")&&localStorage.removeItem("tentacles_linkClick"),Te("linkclick")?l?r(l,t):a("Click event cannot be sent because type is not defined."):(V=setTimeout(r,500,"linkClick",t),G=setTimeout(r,1e4,"loyaltyClick",t))}catch(e){c(e),localStorage.getItem("tentacles_linkClick")&&localStorage.removeItem("tentacles_linkClick"),a(e)}})}function ve(){return new Promise(function(t,e){try{Le("landing"+(a=document.querySelector("link[rel='canonical']"),r=document.querySelector("meta[property='og:url']"),null!==a?a.getAttribute("href"):null!==r?r.getAttribute("content"):n||document.URL)).then(function(e){e=e.substring(0,20);t(e)})}catch(t){e(t)}var n,a,r})}function ye(){return window&&window.tentacles.hasOwnProperty("pageType")&&window.tentacles.pageType.toLowerCase()===d?d:r}function Te(t){return window.tentacles.manualEvents&&0<window.tentacles.manualEvents.split(",").filter(function(e){return e.trim().toLowerCase()===t.trim().toLowerCase()}).length}function Pe(e,t){var n=new XMLHttpRequest;return"withCredentials"in n?n.open(e,t,!0):"undefined"!=typeof XDomainRequest?(n=new XDomainRequest).open(e,t):n=null,n}function be(e){return(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.toLocaleLowerCase()).replace(/\+/g,"")).replace(/\*/g,"")).replace(/\-/g,"")).replace(/\=/g,"")).replace(/&&/g,"")).replace(/||/g,"")).replace(/>/g,"")).replace(/</g,"")).replace(/!/g,"")).replace(/\(/g,"")).replace(/\)/g,"")).replace(/{/g,"")).replace(/}/g,"")).replace(/\[/g,"")).replace(/]/g,"")).replace(/^/g,"")).replace(/"/g,"")).replace(/~/g,"")).replace(/\?/g,"")).replace(/:/g,"")).replace(/\\/g,"")).replace(/\//g,"")}function Ce(e){var t,n={};if(null===e||!Array.isArray(e))return null;for(t in e){var a,r=e[t];for(a in r)if(r[a]&&r[a].mapping){var o=r[a].mapping;if(o)for(var i=0;i<o.length;i++){var l=o[i],s=l.inputField,c="["!==s.substring(0,1)?".":"",c="["!==s.substring(0,1)?s:a+c+s,s=l.outputField;s in n&&n[s]||(n[s]=(e=>{try{var t=null,n=(a=(a=e).replace(/\[(\d+)]/g,".$1"),r=window[a.substring(0,a.indexOf("."))],a=a.substring(a.indexOf(".")+1),String(a).split(".").reduce(function(e,t){try{e=e[t]}catch(e){return null}return e},r));return t=n?"string"==typeof n||n instanceof String?n.split("!").join("&#33;"):n:t}catch(e){w.error(e)}var a,r})(c))}}}return n}function Oe(e,l,s){var c,n,a;e&&2<e.length&&null!==(c=Ce(e=JSON.parse(e)))&&null!==l&&(n=l,a=s,new Promise((t,e)=>{Le(be(n+"_"+a)).then(e=>{t(e)})}).then(e=>{var t,n,a,r=ye(),o=c,i=(r===d&&(t=(a=new Date).getUTCFullYear(),n=("0"+(a.getUTCMonth()+1)).slice(-2),a=("0"+a.getUTCDate()).slice(-2),o.date=t+"-"+n+"-"+a),(e=>{try{var t=K.encode(JSON.stringify(e)),n=t.length,a=0;if(n<16)return t;for(var r=0;r<n;r++)a+=t.charCodeAt(r);return be(K.encode(t.substring(0,8)+"-"+t.substring(n/2-4,n/2+4)+"-"+t.substring(n-8,n)+"-"+a))}catch(e){w.error(e)}})(c));c.hash=i,c.brandId=l,c.documentId=e,c.channel=Je(),(c.pageType=r)===d&&(c.relationId=s,c.hasOwnProperty("title")&&c.title||(c.title=document.title)),Z=setTimeout(function(){var t,n;!g&&(t=function(){D&&ingestion.signal("dataLayer",c),clearTimeout(Z)},n=Pe("get","https://api.smartocto.com/api/brands/"+l+"/dataLayer/"+e+"_"+i))&&(n.onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&(e=JSON.parse(n.responseText))&&!1===e.match&&t()},n.send())},5e3)}))}function xe(){return new Promise(function(a){function h(e){return e.replace(/[^\w\s]/gi,"")}function p(e,t){for(var n=0;n<e.length;n++)if(t.indexOf(e[n])<0)return;return 1}var n=[],r=[],l=(k=null!==(k=localStorage.getItem("tentacles_"+I+"_useDivInReplacement"))&&"true"===k,localStorage.getItem("tentacles_"+I+"_basePaths")),o=JSON.parse(localStorage.getItem("tentacles_"+I+"_urls"));function s(t,n,a){let r=0;for(let e=0;e<n.length;e++){var o,i,l,s=a[e]||"",_=[],c=(e=>{for(var t,n=/\b\w+\b/g,a=[];(t=n.exec(e))&&a.push(h(t[0])););return a})(n[e]);if("a"===t.tagName.toLowerCase()&&1===t.childNodes.length&&"#text"===t.childNodes[0].nodeName&&p(c,h(t.innerText))&&t.innerText.length<=n[e].length+4)_.push([t.children.length,t]);else{k&&(m=void 0,(null===(m=localStorage.getItem("tentacles_"+I+"_replacementElements"))||"undefined"===m?[]:JSON.parse(m)).map(function(e){-1===X.indexOf(e)&&X.push(e)}));for(var d=0;d<X.length;d++)for(o=X[d],i=t.querySelectorAll(o),l=0;l<i.length;l++)i[l]&&p(c,h(i[l].innerText))&&i[l].innerText.length<=n[e].length+4&&(g=i[l],u=void 0,g instanceof Element)&&"none"!==(u=getComputedStyle(g)).display&&"visible"===u.visibility&&!(u.opacity<.1)&&g.offsetWidth+g.offsetHeight+g.getBoundingClientRect().height+g.getBoundingClientRect().width!==0&&_.push([i[l].children.length,i[l]])}_.length&&(_.sort(function(e,t){return t[0]-e[0]}),m=_.pop(),(element=m[1]).innerText=s,r++)}var g,u,m;return r===n.length}function c(n,a){return new Promise((t,e)=>{!n.includes("b-cdn.net")&&!n.includes("smartocto.com")||0<=r.indexOf(n)?t({isReachable:!0,titleLocation:a}):fetch(n,{method:"HEAD"}).then(e=>{r.push(n),200===e.status?t({isReachable:!0,titleLocation:a}):(w.error(`Failed to fetch the URL: ${n}. Status code: `+e.status),t({isReachable:!1,titleLocation:a}))}).catch(e=>{w.error(`An error occurred while trying to fetch the URL: ${n} `+e),t({isReachable:!1,titleLocation:a})})})}function d(r,o,t){let n=0;if(0<t.length){var i=[];for(let a=0;a<o.length;a++){for(let t=0;t<H.length;t++){let e=H[t],n=r.querySelectorAll(e);for(let t=0;t<n.length;t++){let e=n[t];e&&(e.src.includes(o[a])||e.srcset.includes(o[a]))&&i.push({childrenCount:e.children.length,element:e})}}if(i.length){i.sort((e,t)=>t.childrenCount-e.childrenCount);let e=i.pop().element;e.src&&""!==e.src&&(e.src=e.src.split(o[a]).join(t[a])),e.srcset&&""!==e.srcset&&(e.srcset=e.srcset.split(o[a]).join(t[a])),n++}}}return n===o.length}if(o&&0<o.length){let e=o.map(function(i){return new Promise(function(t){var o,e;0<=n.indexOf(i.relationId)?t():(n.push(i.relationId),o=i.relationId,i.hasOwnProperty("type")&&"video"===i.type&&(o=i.relationId.substring(1)),e=(l&&0<l.length?Array.from(document.querySelectorAll('a[tentacle-id^="'+o+'"]')):Array.from(document.querySelectorAll('a[href*="'+o+'"]'))).map(function(r){return new Promise(function(n){var e,t,a;"1"===r.getAttribute("data-tentacles-r")||(t=x,a=Array.from(r.classList),t&&Array.isArray(t)&&0<t.length&&a&&Array.isArray(a)&&0<a.length&&0<t.filter(function(e){return-1<a.indexOf(e)}).length)?n():(e=t=!1,i.hasOwnProperty("oldTitle")&&i.hasOwnProperty("newTitle")&&(t=!0),i.hasOwnProperty("oldPictures")&&i.hasOwnProperty("newPictures")&&0<r.querySelectorAll("img").length&&(e=!0),t&&e?c(i.newPictures[0],r).then(function(e){var t;e.isReachable?(e=s(r,i.oldTitle.split("$$"),i.newTitle.split("$$")),t=d(r,i.oldPictures,i.newPictures),e&&t?(r.setAttribute("data-tentacles-r","1"),n(o)):s(r,i.newTitle.split("$$"),i.oldTitle.split("$$"))||d(r,i.newPictures,i.oldPictures)||(r.removeAttribute("data-tentacles-r"),w.error("TENTACLES: Title and picture restore failed and could be caused by a missing match in the title.","oldTitle",JSON.stringify(i.oldTitle.split("$$")),"newTitle",JSON.stringify(i.newTitle.split("$$"),"oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))))):w.error("TENTACLES: The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){w.error("TENTACLES: An error occurred during picture and title replacement: "+e),n()}):t&&!e?new Promise((e,t)=>{e(!0)}).then(function(e){s(r,i.oldTitle.split("$$"),i.newTitle.split("$$"))&&(r.setAttribute("data-tentacles-r","1"),n(o)),n()}).catch(function(e){w.error("TENTACLES: An error occurred during title replacement: "+e),n()}):e&&!t?c(i.newPictures[0],r).then(function(e){var t=e.titleLocation;e.isReachable?d(t,i.oldPictures,i.newPictures)?(t.setAttribute("data-tentacles-r","1"),n(o)):d(t,i.newPictures,i.oldPictures)||(t.removeAttribute("data-tentacles-r"),w.warn("TENTACLES: Restoring original picture failed and could be caused by a missing match in original picture paths.","oldPictures",JSON.stringify(i.oldPictures),"newPictures",JSON.stringify(i.newPictures))):w.error("TENTACLES: The new picture is not reachable",i.newPictures[0]),n()}).catch(function(e){w.error("TENTACLES: An error occurred during picture replacement: "+e),n()}):n())})}),Promise.all(e).then(function(e){t(e)}))})});Promise.all(e).then(function(e){e=e.map(function(e){return e?e.filter(function(e){return null!=e}):[]}).filter(function(e){return 0<e.length}).map(function(e){return e[0]});for(var t=0;t<e.length;t++)ce.push(e[t]);var n=o.filter(function(e){var t=e.hasOwnProperty("type")&&"video"===e.type?e.relationId.substring(1):e.relationId;return"active"===e.status&&-1<ce.indexOf(t)}).map(function(e){return{headerTestId:e.id,headerTestChosenId:e.chosen}});z=setTimeout(function e(n){if(D&&void 0!==window.ingestion){let e=localStorage.getItem("tentacles_"+I+"_brand"),t;0<n.length&&!g&&(t={brandId:e,impressions:JSON.stringify(n)},D)&&ingestion.signal("impressions",t)}else z=setTimeout(e,250,n)},1e3,n),window.tentaclesProcessedABTitles=!0,a()})}else a()})}function ke(a){return new Promise((e,t)=>{let n=document.createElement("script");n.onerror=t,a.url||t(new Error("oops no scriptURL defined to load")),n.type="text/javascript",n.onload=e,a.hasOwnProperty("defer")&&"boolean"==typeof a.defer&&(n.defer=a.defer),a.hasOwnProperty("async")&&"boolean"==typeof a.async&&(n.async=a.async),n.src=a.url;t=document.body;t?"body-top"===a.location?t.insertBefore(n,t.firstChild):t.appendChild(n):addEventListener("DOMContentLoaded",()=>{document.body.appendChild(n)})})}function Ae(e){return t=window.navigator.userAgent,(0<(n=t.indexOf("MSIE "))?parseInt(t.substring(n+5,t.indexOf(".",n)),10):0<t.indexOf("Trident/")?(n=t.indexOf("rv:"),parseInt(t.substring(n+3,t.indexOf(".",n)),10)):0<(n=t.indexOf("Edge/"))&&parseInt(t.substring(n+5,t.indexOf(".",n)),10))?"object"==typeof window.wgxpath?window.document.createExpression(e).evaluate(window.document,XPathResult.STRING_TYPE):void ke({url:WGXPATH_URL,defer:!0,async:!1}).then(()=>(wgxpath.install(),window.document.createExpression(e).evaluate(window.document,XPathResult.STRING_TYPE))).catch(e=>{w.error("wgxpath script loading error:",e)}):(new XPathEvaluator).createExpression(e).evaluate(document,XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue;var t,n}function Ne(){return window.crypto||window.msCrypto}function Ee(e){for(var t="",n=new DataView(e),a=0;a<n.byteLength;a+=4)t+=("00000000"+n.getUint32(a).toString(16)).slice(-8);return t}function Le(e){try{var t=(new TextEncoder).encode(e);return Ne().subtle.digest("SHA-256",t).then(Ee)}catch(e){c(e)}}function De(){return new Promise(function(t,e){try{clearInterval(tentacle_timer_apply);var n,a=localStorage.getItem("tentacles_"+I+"_urls_time"),r=localStorage.getItem("tentacles_"+I+"_dockcache_time"),o=new Date;null!==a&&o<new Date(a)&&(b=JSON.parse(localStorage.getItem("tentacles_"+I+"_urls")),le=!1),g&&null!==r&&o<new Date(r)&&(se=!1),le||g&&se?(n=Pe("get","https://api.smartocto.com/api/brands/tentacles?i="+I+(g?"&dock=true":"")))&&(n.onreadystatechange=function(){var e;4===this.readyState&&200===this.status&&(e=JSON.parse(n.responseText),b=e.headerTests,de=e.domainSettings.regex,C="true"===String(e.domainSettings.regex_on_params).toLocaleLowerCase(),O=e.domainSettings.vPath,re=e.domainSettings.searchPath,u=e.domainSettings.mapping,y=window&&window.tentacles&&window.tentacles.brandId?window.tentacles.brandId:e.domainSettings.brand,ge=e.domainSettings.mainContent,ue=e.domainSettings.excludeContent,N=e.domainSettings.xPathIds,x=e.domainSettings.excludeClasses,k=e.domainSettings.useDivInReplacement,A=e.domainSettings.replacementElements,E=e.domainSettings.dataLayerConfig,L=e.domainSettings.collectReadingtime,m=e.domainSettings.basePaths,P=e.domainSettings.ignorePaths,h=e.domainSettings.customCss,R=e.domainSettings.doNotTrackUserId,p=e.domainSettings.urls,D="true"===String(e.domainSettings.useIngestionApi).toLocaleLowerCase(),U="true"===String(e.domainSettings.imageTesting).toLocaleLowerCase(),T=e.domainSettings.features,J=e.domainSettings.idp,e.domainSettings.hasOwnProperty("ai")&&null!==e.domainSettings.ai&&(M=e.domainSettings.ai.clientId,j=e.domainSettings.ai.publicationTimeFrom,B=e.domainSettings.ai.publicationTimeTo,F=e.domainSettings.ai.northstars,me=e.domainSettings.ai.goals),(null===localStorage.getItem("tentacles_"+I+"_urls")?()=>{for(var e=!(v=[]),t=0,n=b.length;t<n;t++)if(0!==b[t].testData.length){var a,e=!1,r={};if(b[t].status===ne)r.chosen=b[t].chosen,e=!0;else if(b[t].status===ae)for(var o=0,i=b[t].testData.length;o<i;o++)if(b[t].testData[o].won){e=!0,r.chosen=b[t].testData[o].id;break}r.id=b[t].id,r.relationId=b[t].relationId,r.status=b[t].status,r.oldTitle=b[t].testData[0].title,b[t].hasOwnProperty("pictures")&&(r.oldPictures=b[t].testData[0].pictures),r.type=b[t].hasOwnProperty("type")?b[t].type:"story",!1===e?(r.newTitle=r.oldTitle,r.hasOwnProperty("oldPictures")&&(r.newPictures=r.oldPictures)):(a=he(b[t].testData,"id",r.chosen),r.newTitle=a.title,a.hasOwnProperty("pictures")&&(r.newPictures=a.pictures)),0===r.chosen&&e||v.push(r)}localStorage.setItem("tentacles_"+I+"_domainsearchpath",re),localStorage.setItem("tentacles_"+I+"_urls",JSON.stringify(v)),localStorage.setItem("tentacles_"+I+"_domainregex",de),localStorage.setItem("tentacles_"+I+"_brand",y),localStorage.setItem("tentacles_"+I+"_main_content",ge),localStorage.setItem("tentacles_"+I+"_exclude_content",ue),C?localStorage.setItem("tentacles_"+I+"_domainregex_on_params",C):localStorage.removeItem("tentacles_"+I+"_domainregex_on_params"),x?localStorage.setItem("tentacles_"+I+"_excludeclasses",JSON.stringify(x)):localStorage.removeItem("tentacles_"+I+"_excludeclasses"),A?localStorage.setItem("tentacles_"+I+"_replacementElements",JSON.stringify(A)):localStorage.removeItem("tentacles_"+I+"_replacementElements"),O?localStorage.setItem("tentacles_"+I+"_domainvpath",O):localStorage.removeItem("tentacles_"+I+"_domainvpath"),u?localStorage.setItem("tentacles_"+I+"_pagemapping",JSON.stringify(u)):localStorage.removeItem("tentacles_"+I+"_pagemapping"),N?localStorage.setItem("tentacles_"+I+"_xPathIds",N):localStorage.removeItem("tentacles_"+I+"_xPathIds"),k?localStorage.setItem("tentacles_"+I+"_useDivInReplacement",JSON.stringify(k)):localStorage.removeItem("tentacles_"+I+"_useDivInReplacement"),E?localStorage.setItem("tentacles_"+I+"_data_layer_config",JSON.stringify(E)):localStorage.removeItem("tentacles_"+I+"_data_layer_config"),L?localStorage.setItem("tentacles_"+I+"_reading_time",JSON.stringify(L)):localStorage.removeItem("tentacles_"+I+"_reading_time"),m?localStorage.setItem("tentacles_"+I+"_basePaths",JSON.stringify(m)):localStorage.removeItem("tentacles_"+I+"_basePaths"),P?localStorage.setItem("tentacles_"+I+"_ignorePaths",JSON.stringify(P)):localStorage.removeItem("tentacles_"+I+"_ignorePaths"),R?localStorage.setItem("tentacles_"+I+"_doNotTrackUserId",R):localStorage.removeItem("tentacles_"+I+"_doNotTrackUserId"),D?localStorage.setItem("tentacles_"+I+"_useIngestionApi",D):localStorage.removeItem("tentacles_"+I+"_useIngestionApi"),p&&localStorage.setItem("tentacles_"+I+"_page_urls",JSON.stringify(p)),h&&localStorage.setItem("tentacles_"+I+"_customCss",h),U&&localStorage.setItem("tentacles_"+I+"_imageTesting",U),T&&localStorage.setItem("tentacles_"+I+"_features",JSON.stringify(T)),J&&localStorage.setItem("tentacles_"+I+"_idp",J),M&&localStorage.setItem("tentacles_"+I+"_ai_client_id",M),j&&localStorage.setItem("tentacles_"+I+"_ai_publication_time_from",j),B&&localStorage.setItem("tentacles_"+I+"_ai_publication_time_to",B),F&&localStorage.setItem("tentacles_"+I+"_ai_northstars",F),me&&localStorage.setItem("tentacles_"+I+"_ai_goals",me)}:()=>{var e=JSON.parse(localStorage.getItem("tentacles_"+I+"_urls")),t=!1;if(0===b.length)localStorage.removeItem("tentacles_"+I+"_urls");else{for(var n,a=b.map(function(e){return e.id}),r=0;r<b.length;r++)if(0!==b[r].testData.length){for(var t=!1,o=0;o<e.length;o++)if(e[o].id===b[r].id){for(var i=0,l=b[r].testData.length;i<l;i++)if(b[r].testData[i].won){e[o].chosen=b[r].testData[i].id;break}e[o].status=b[r].status,(s=he(b[r].testData,"id",b[r].chosen))&&(e[o].type=b[r].type,e[o].chosen=b[r].chosen,s.hasOwnProperty("title")&&(e[o].newTitle=s.title),s.hasOwnProperty("pictures"))&&(e[o].newPictures=s.pictures),t=!0;break}if(!1===t){var s,c={};if(b[r].status===ne)c.chosen=b[r].chosen,t=!0;else if(b[r].status===ae)for(var o=0,d=b[r].testData.length;o<d;o++)if(b[r].testData[o].won){t=!0,c.chosen=b[r].testData[o].id;break}c.id=b[r].id,c.relationId=b[r].relationId,c.status=b[r].status,c.oldTitle=b[r].testData[0].title,b[r].hasOwnProperty("pictures")&&(c.oldPictures=b[r].testData[0].pictures),c.type=b[r].hasOwnProperty("type")?b[r].type:"story",!1===t?(c.newTitle=c.oldTitle,c.newPictures=c.oldPictures):(s=he(b[r].testData,"id",c.chosen),c.newTitle=s.title,s.hasOwnProperty("pictures")&&(c.newPictures=s.pictures)),0===c.chosen&&t||e.push(c)}}0<b.length&&(n=e.filter(function(e){if(-1!==a.indexOf(e.id))return!0})),localStorage.setItem("tentacles_"+I+"_urls",JSON.stringify(n)),v=n}localStorage.setItem("tentacles_"+I+"_domainsearchpath",re),localStorage.setItem("tentacles_"+I+"_domainregex",de),localStorage.setItem("tentacles_"+I+"_brand",y),ge?localStorage.setItem("tentacles_"+I+"_main_content",ge):localStorage.removeItem("tentacles_"+I+"_main_content"),ue?localStorage.setItem("tentacles_"+I+"_exclude_content",ue):localStorage.removeItem("tentacles_"+I+"_exclude_content"),C?localStorage.setItem("tentacles_"+I+"_domainregex_on_params",JSON.stringify(C)):localStorage.removeItem("tentacles_"+I+"_domainregex_on_params"),x?localStorage.setItem("tentacles_"+I+"_excludeclasses",JSON.stringify(x)):localStorage.removeItem("tentacles_"+I+"_excludeclasses"),A?localStorage.setItem("tentacles_"+I+"_replacementElements",JSON.stringify(A)):localStorage.removeItem("tentacles_"+I+"_replacementElements"),O?localStorage.setItem("tentacles_"+I+"_domainvpath",O):localStorage.removeItem("tentacles_"+I+"_domainvpath"),u?localStorage.setItem("tentacles_"+I+"_pagemapping",JSON.stringify(u)):localStorage.removeItem("tentacles_"+I+"_pagemapping"),N?localStorage.setItem("tentacles_"+I+"_xPathIds",N):localStorage.removeItem("tentacles_"+I+"_xPathIds"),k?localStorage.setItem("tentacles_"+I+"_useDivInReplacement",JSON.stringify(k)):localStorage.removeItem("tentacles_"+I+"_useDivInReplacement"),E?localStorage.setItem("tentacles_"+I+"_data_layer_config",JSON.stringify(E)):localStorage.removeItem("tentacles_"+I+"_data_layer_config"),L?localStorage.setItem("tentacles_"+I+"_reading_time",JSON.stringify(L)):localStorage.removeItem("tentacles_"+I+"_reading_time"),m?localStorage.setItem("tentacles_"+I+"_basePaths",JSON.stringify(m)):localStorage.removeItem("tentacles_"+I+"_basePaths"),P?localStorage.setItem("tentacles_"+I+"_ignorePaths",JSON.stringify(P)):localStorage.removeItem("tentacles_"+I+"_ignorePaths"),h?localStorage.setItem("tentacles_"+I+"_customCss",h):localStorage.removeItem("tentacles_"+I+"_customCss"),p?localStorage.setItem("tentacles_"+I+"_page_urls",JSON.stringify(p)):localStorage.removeItem("tentacles_"+I+"_page_urls"),R?localStorage.setItem("tentacles_"+I+"_doNotTrackUserId",R):localStorage.removeItem("tentacles_"+I+"_doNotTrackUserId"),D?localStorage.setItem("tentacles_"+I+"_useIngestionApi",D):localStorage.removeItem("tentacles_"+I+"_useIngestionApi"),U?localStorage.setItem("tentacles_"+I+"_imageTesting",U):localStorage.removeItem("tentacles_"+I+"_imageTesting"),T?localStorage.setItem("tentacles_"+I+"_features",JSON.stringify(T)):localStorage.removeItem("tentacles_"+I+"_features"),J&&localStorage.setItem("tentacles_"+I+"_idp",J),M&&localStorage.setItem("tentacles_"+I+"_ai_client_id",M),j&&localStorage.setItem("tentacles_"+I+"_ai_publication_time_from",j),B&&localStorage.setItem("tentacles_"+I+"_ai_publication_time_to",B),F&&localStorage.setItem("tentacles_"+I+"_ai_northstars",F),me&&localStorage.setItem("tentacles_"+I+"_ai_goals",me)})(),localStorage.setItem("tentacles_"+I+"_urls_time",""+new Date((new Date).getTime()+te)),g&&localStorage.setItem("tentacles_"+I+"_dockcache_time",""+new Date((new Date).getTime()+te)),t())},n.send()):t()}catch(t){c(t),e(t)}})}function Je(){return window&&window.tentacles&&window.tentacles.channel?window.tentacles.channel:"web"}function Re(){clearInterval(tentacle_timer_apply);function l(e){if(!(5e3<Date.now()-s)){var t=localStorage.getItem("tentacles_"+I+"_brand"),n=localStorage.getItem("tentacles_"+I+"_main_content"),a=localStorage.getItem("tentacles_"+I+"_exclude_content"),r="true"===String(localStorage.getItem("tentacles_"+I+"_reading_time"))||"false"!==String(localStorage.getItem("tentacles_"+I+"_reading_time"))&&void 0;if(window.ingestion&&t&&e){if(e&&r){r={brandId:t,relationId:e,mainContent:n,excludeContent:a};try{var o=r,i=D&&void 0!==window.ingestion?window.ingestion:void 0;try{g||("function"==typeof trackReadingTime?trackReadingTime(o,i):ke({url:window.tentacles.installUri?window.tentacles.installUri+"/reading-time.js":"https://tentacles.smartocto.com/ten/reading-time.js?v=1724934079513",defer:!0,async:!0}).then(function(){trackReadingTime(o,i)}).catch(function(e){w.error("Loading error trackReadingTime:",e)}))}catch(o){w.error(o)}}catch(e){w.error(e)}}}else W=setTimeout(function(){l(e)},500)}}var s=Date.now();function n(){var s,c,m={},d=localStorage.getItem("tentacles_"+I+"_pagemapping"),h=localStorage.getItem("tentacles_"+I+"_domainsearchpath"),p="true"===localStorage.getItem("tentacles_"+I+"_xPathIds"),g=localStorage.getItem("tentacles_"+I+"_domainregex"),u=localStorage.getItem("tentacles_"+I+"_basePaths");function f(e,t,n){var a=e.attributes.href.nodeValue,r=e.getAttribute("tentacle-id"),o=((e,t)=>{if(v)for(var n=0;n<v.length;n++){var a=v[n].relationId;if(v[n].hasOwnProperty("type")&&"video"===v[n].type&&(a=v[n].relationId.substring(1)),(0<=e.indexOf(a)||t===v[n].relationId)&&0<=ce.indexOf(a))return{relationId:v[n].relationId,id:v[n].id,chosenId:v[n].chosen,status:v[n].status,type:v[n].type}}})(a,r?r.split("-")[0]:void 0),o=o&&o.status===ne?(s=o.id,o.chosenId):s=-1,_={brandId:y,linkPath:a,linkXPath:function e(t,n){if(""!==t.id&&n)return"id('"+t.id+"')";if(t===document.body)return t.tagName.toLowerCase();for(var a=0,r=t.parentNode?t.parentNode.childNodes:[],o=0;o<r.length;o++){var i=r[o];if(i===t)return e(t.parentNode,n)+"/"+t.tagName.toLowerCase()+"["+(a+1)+"]";1===i.nodeType&&i.tagName===t.tagName&&a++}}(e,p),linkSourcePath:location.pathname,headerTestId:s,headerTestChosenId:o},a={top:0,left:0};if(h){var i,l,s=h.split("|");if(2===s.length)try{"class"===s[0]?1<=(i=document.getElementsByClassName(s[1])).length&&(a=i[0].getBoundingClientRect()):a=document.getElementById(s[1]).getBoundingClientRect()}catch(e){w.error(e)}try{var c=e.getBoundingClientRect(),d=c.top-a.top,g=c.left-a.left,u=(n&&(g=c.left-n.left),{linkX1:Math.round10(g,1),linkX2:Math.round10(g+c.width,1),linkY1:Math.round10(d,1),linkY2:Math.round10(d+c.height,1),linkHeight:Math.round10(c.height,1),linkWidth:Math.round10(c.width,1)});u.linkPosition=void 0===t?location.pathname+"_"+u.linkX1+"_"+u.linkY1+"_"+u.linkX2+"_"+u.linkY2:location.pathname+"_"+u.linkX1+"_"+u.linkY1+"_"+u.linkX2+"_"+u.linkY2+"_"+t}catch(e){w.error(e)}for(l in u)_[l]=u[l]}else w.error("NO domain_searchpath!");o=Q.compressToUTF16(JSON.stringify(_));m[r]=fe(o),window.tentacles_pageData=m,Te("linkclick")||e.addEventListener("click",function(e){var t=window.tentacles_pageData;S("getPagedata",t),S("tentacleId",r),S("getPagedata[tentacleId]",t[r]),localStorage.setItem("tentacles_linkClick",t[r])})}y=localStorage.getItem("tentacles_"+I+"_brand"),_e().then(function(e){if(e)Y(),w.log("Tentacles is initiating Article Page"),Te("linkclick")||q(window.location.href).then(function(e){Ie(e)});else{w.log("Tentacles is initiating Index Page"),g||u||w.error("Domain's regex and optional basePaths are missing");var t=g&&RegExp(g);if(d){if(c=JSON.parse(d))for(var n in s=c["*"],s=c[window.location.pathname]?c[window.location.pathname]:s)if(s.hasOwnProperty(n)){var a=Ae(s[n]);if(a)for(var r=(r=Array.from(a.getElementsByTagName("a"))).filter(function(e){return t?e.href&&t.test(e.href):e.href}),_=a.getBoundingClientRect(),o=0;o<r.length;o++)f(r[o],n,_)}}else for(var i=(i=Array.from(document.body.getElementsByTagName("a"))).filter(e=>t?e.href&&t.test(e.href):e.href),l=0;l<i.length;l++)f(i[l])}window.tentacles.initiated=!0})}Te("pageview")||Se(),De().then(function(){S("populateCaching ended"),D=D||"true"===localStorage.getItem("tentacles_"+I+"_useIngestionApi"),g||(D||w.error("Tentacles: No data can be collected for smartocto's Tentacles, please check configuration values"),_e().then(function(e){e?q(window.location.href).then(function(e){var t;e&&(window.tentaclesProcessedABTitles=!0,document.body?n():window.addEventListener("DOMContentLoaded",function(){n()}),E=localStorage.getItem("tentacles_"+I+"_data_layer_config"),(t=localStorage.getItem("tentacles_"+I+"_brand"))&&E&&(S("call sendDataLayer"),Oe(E,t,e)),l(e))}):(new Promise(function(r,e){var o=document.body.getElementsByTagName("a"),i=0;if(o&&o.length){for(var t=[],l=[],n=0;n<o.length;n++)t.push((n=>new Promise(function(t,e){q(n).then(function(e){t({relationId:e,path:n})})}))(o[n].getAttribute("href")));Promise.all(t).then(function(e){l=e}).catch(function(e){w.error(e)}).finally(function(){for(var e=0;e<o.length;e++){var t=o[e].getAttribute("href"),n=o[e],a=l.filter(function(e){return e.path===t});0<a.length&&a[0].relationId&&n.setAttribute("tentacle-id",a[0].relationId+"-"+i.toString(16)),i++}r(!0)})}else r(!1)}).then(function(e){e&&xe().then(function(e){document.body?n():window.addEventListener("DOMContentLoaded",function(){n()})})}),(T=localStorage.getItem("tentacles_"+I+"_features")?JSON.parse(localStorage.getItem("tentacles_"+I+"_features")):[]).includes("landingPages")&&ye()===d&&ve().then(function(e){E=localStorage.getItem("tentacles_"+I+"_data_layer_config");var t=localStorage.getItem("tentacles_"+I+"_brand");t&&E&&(S("call sendDataLayer"),Oe(E,t,e)),l(e)}))})),w.log("smartocto's Tentacles "+window.tentacles.version+" loaded..."),t&&w.log("Tentacles flicker handling is active")}).catch(function(e){c("error in populateCaching",e)})}S("Initializing Tentacles"),window.tentacles?(window.tentacles.ready=function(){return window.tentacles.initiated},window.tentacles.readyPromise=function(){return new Promise((e,t)=>{window.tentacles.ready()?e(!0):(tentacle_timer_ready=setTimeout(window.tentacles.readyPromise,100,e),e(!1))})},window.tentacles.onVideoPlay=function(t){if(t&&t.videoId&&t.title)try{t.brandId=localStorage.getItem("tentacles_"+I+"_brand"),t.channel=Je(),q(window.location.href).then(function(e){t.relationId=e}).finally(function(){window.ingestion.signal("videoPlay",t)})}catch(t){c("Error on video play event",t)}else w.error("Invalid video play request.",JSON.stringify(t))},window.tentacles.sendLinkClick=function(t){return new Promise((n,a)=>{let r=t.tentacleId,e=t.relationId,o="";if(r){let t=window.tentacles_pageData[r];if(t)if(e)Ie(e,t,"linkClick").then(()=>{n(!0)});else{let e=document.querySelector('a[tentacle-id="'+r+'"]');e.hasAttribute("href")?q(e.href).then(e=>{Ie(e,t,"linkClick").then(()=>{n(!0)})}):a(o=`Invalid link click request, we need a valid relationId or a valid link href for tentacleId ${r}.`)}else a(o=`Could not find link data for tentacleId ${r}. First start data collection with window.postMessage('activateTentacles') and check if the global variable window.tentacles.ready() or window.tentacles.readyPromise() is positive to make sure all required data is collected.`)}else a(o="Invalid request, we expect an object with the following structure: { tentacleId: string, relationId: string }, where relationId is optional.")}).catch(e=>{reject("Error on linkClick event",e)})},window.tentacles.sendPageView=function(e){return new Promise((t,n)=>{Se(e).then(e=>{e?t(!0):n("Page view event failed")}).catch(e=>{n(e)})}).catch(e=>(w.error("Error on page view event",e),!1))}):w.error("Tentacles is not loaded, please check if the script is loaded correctly."),window.tentaclesExecuted?S("%cTentacles: Skipping execution!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):(P=localStorage.getItem("tentacles_"+I+"_ignorePaths"),oe=JSON.parse(localStorage.getItem("tentacles_"+I+"_urls")),(e=document.createElement("style")).innerHTML=".tentacles-flicker-handling img, .tentacles-flicker-handling source { display: none; }",document.head.appendChild(e),oe&&0<oe.length&&oe.filter(e=>-1!==[ne,ae].indexOf(e.status)&&e.hasOwnProperty("pictures")&&0<e.pictures.length)&&(t&&document.body.classList.add("tentacles-flicker-handling"),setTimeout(()=>{Y()},1e3)),e=!1,(e=!!(P&&0<=JSON.parse(P).indexOf(window.location.pathname))||e)?S("%cTentacles: Skipping execution on "+window.location.pathname+"!","background: #EE191E; color: white; padding: 2px 4px; border-radius: 4px 0px 0px 4px;"):g?(Y(),(()=>{try{return window.self!==window.top}catch(e){return 1}})()||(tentacle_timer_apply=setInterval(function(){I&&!ie&&De().then(function(){ke({location:"body-top",url:l}).then(function(){ie=!0}).catch(function(e){w.error("Error loading admin script:",e)})}).catch(function(e){c(e)})},100))):tentacle_timer_apply=setInterval(function(){I&&!ie&&(Re(),ie=!0)},100)),window.addEventListener("message",function(e){"activateTentacles"!==e.data&&"stopTentacles"!==e.data||(clearTimeout(V),clearTimeout(s),clearTimeout(G),clearTimeout(W),clearTimeout(z),clearTimeout(Z),localStorage.getItem("tentacles_"+I+"_reading_time")&&(clearInterval(window.tentacles_at_timer_sample),clearInterval(window.tentacles_at_timer_send_beat)),"activateTentacles"!==e.data)||g||Re()},!1),window.tentaclesExecuted=!0})("undefined"==typeof t&&(t={}));